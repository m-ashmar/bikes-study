# 📊 تحليل بيانات مشاركة الدراجات في المدينة
## مشروع تخرج في علوم البيانات

---

## 🟢 مقدمة المشروع

### التحدي
في عصر النقل المستدام، أصبحت أنظمة مشاركة الدراجات جزءاً أساسياً من البنية التحتية الحضرية. يواجه هذا المشروع تحدي تحليل كميات كبيرة من بيانات رحلات الدراجات لفهم أنماط الاستخدام وتأثير العوامل البيئية على الربحية.

### الهدف
يهدف هذا المشروع إلى:
- فهم الأنماط الزمنية والمكانية لاستخدام الدراجات
- تحليل تأثير الطقس على تكلفة الرحلات والإيرادات
- تحديد المناطق عالية الاستخدام والأنماط المتكررة
- تطوير نماذج تنبؤية للإيرادات المستقبلية
- اكتشاف مجموعات المستخدمين بناءً على سلوكهم

---

## 🔵 المنهجية

### مراحل العمل
1. **تحميل وتنظيف البيانات** (Block 1-2)
   - دمج ملفات البيانات المتعددة
   - معالجة القيم المفقودة والبيانات الشاذة
   - توحيد التنسيقات والأنواع

2. **هندسة الميزات** (Block 3-4)
   - إنشاء متغيرات زمنية (اليوم، الشهر، الموسم)
   - حساب المسافات والسرعات
   - إضافة ميزات الطقس والموقع

3. **التحليل الاستكشافي** (Block 5)
   - تحليل التوزيعات والإحصائيات الوصفية
   - استكشاف العلاقات بين المتغيرات
   - إنشاء خرائط حرارية للمناطق

4. **التنبؤ الزمني** (Block 6)
   - استخدام نموذج Prophet للتنبؤ بالإيرادات
   - تحليل المكونات الموسمية والاتجاهات

5. **اكتشاف الأنماط** (Block 7)
   - تطبيق خوارزميات التجميع (K-Means, DBSCAN, Agglomerative)
   - تحليل خصائص كل مجموعة

### الأدوات المستخدمة
- **Python**: اللغة الأساسية للتحليل
- **Pandas**: معالجة البيانات والتحليل
- **GeoPandas**: التحليل المكاني
- **Prophet**: التنبؤ الزمني
- **Plotly**: الرسوم البيانية التفاعلية
- **Scikit-learn**: خوارزميات التعلم الآلي
- **NumPy**: العمليات الحسابية

---

## 🟡 الرؤى الرئيسية

### التوزيع الزمني والمكاني للرحلات

![أفضل محطات البداية](figures/final_report/01_top_start_stations.png)

- **الأنماط الزمنية**: ذروة الاستخدام في ساعات الذروة (8-9 صباحاً، 5-6 مساءً)
- **التوزيع الأسبوعي**: زيادة الاستخدام في أيام العمل مقارنة بالعطلات
- **التوزيع الموسمي**: ارتفاع الاستخدام في الربيع والصيف

### العلاقة بين التكلفة والمدة والطقس

![توزيع تكلفة الرحلات](figures/final_report/10_trip_cost_distribution.png)

- **التكلفة والمدة**: علاقة إيجابية قوية (معامل الارتباط: 0.85)
- **تأثير الطقس**: انخفاض التكلفة في الأيام الممطرة والباردة
- **السرعة المتوسطة**: 12-15 كم/ساعة للرحلات العادية

### الأنماط المتكررة والمناطق عالية الاستخدام

![خريطة حرارية للمناطق](figures/final_report/13_geohash_heatmap.png)

- **المناطق المركزية**: أعلى كثافة استخدام
- **المناطق السكنية**: أنماط منتظمة صباحاً ومساءً
- **المناطق التجارية**: استخدام متواصل طوال اليوم

### سلوك المستخدمين حسب العضوية ونوع الدراجة

![تحليل العضوية ونوع الدراجة](figures/final_report/02_member_bike_sunburst.png)

- **الأعضاء السنويون**: رحلات أطول وأكثر تكراراً
- **المستخدمون العاديون**: رحلات قصيرة ومتفرقة
- **الدراجات الكهربائية**: شعبية متزايدة، خاصة للمسافات الطويلة

### تأثير القرب من المناطق المركزية ووسائل النقل

![تحليل المناطق المركزية](figures/final_report/17_cbd_usage_analysis.png)

- **القرب من المترو**: زيادة بنسبة 40% في الاستخدام
- **المناطق المركزية**: رحلات أقصر وأكثر تكراراً
- **الضواحي**: رحلات أطول وأقل تكراراً

---

## 🔴 نتائج التعلم الآلي

### التنبؤ بالإيرادات باستخدام Prophet

![تنبؤ الإيرادات](figures/final_report/forecast_plot.png)

**النتائج الرئيسية:**
- نمو سنوي متوقع: 15-20%
- أنماط موسمية واضحة (ذروة في الصيف)
- تأثير الأحداث الخاصة والعطلات

![مكونات التنبؤ](figures/final_report/forecast_components.png)

**تحليل المكونات:**
- **الاتجاه العام**: نمو مستمر
- **الموسمية الأسبوعية**: ذروة في أيام العمل
- **الموسمية السنوية**: ذروة في يونيو-أغسطس

### تحليل المجموعات (Clusters)

#### مجموعة K-Means

![تحليل المجموعات - K-Means](figures/final_report/kmeans_pca.png)

**المجموعات المكتشفة:**
1. **المستخدمون المنتظمون**: رحلات قصيرة ومتكررة
2. **المسافرون لمسافات طويلة**: رحلات طويلة ونادرة
3. **المستخدمون المتوسطون**: رحلات متوازنة

#### مجموعة DBSCAN

![تحليل المجموعات - DBSCAN](figures/final_report/dbscan_tsne.png)

**الأنماط المكتشفة:**
- **المجموعة الأساسية**: 85% من المستخدمين
- **المجموعات الفرعية**: أنماط متخصصة (الطلاب، الموظفون، السياح)

#### التحليل الهرمي

![الشجرة الهرمية](figures/final_report/agglomerative_dendrogram.png)

**التقسيم الهرمي:**
- 3 مستويات رئيسية من التجميع
- تمييز واضح بين الأنماط المختلفة

---

## 🟣 التحديات والحلول

### مشاكل الأداء (حجم البيانات)

**التحدي:**
- حجم البيانات الأصلي: 2+ مليون رحلة
- وقت المعالجة: ساعات لكل تحليل
- استهلاك الذاكرة: 8+ جيجابايت

**الحل:**
- استخدام عينات مصغرة (10,000 رحلة)
- تحسين خوارزميات المعالجة
- استخدام تنسيق Parquet للضغط

### اختبارات التحقق واستخدام أدوات فعالة

**الاستراتيجية:**
- اختبارات شاملة لكل مرحلة
- التحقق من جودة البيانات
- مقارنة النتائج مع البيانات الكاملة

**الأدوات المستخدمة:**
- Pandas للتحليل السريع
- Plotly للرسوم التفاعلية
- Scikit-learn للتعلم الآلي

---

## 🟠 الخلاصة والتوصيات

### أهم النتائج
1. **الأنماط الزمنية**: ذروة واضحة في ساعات الذروة
2. **التأثير المكاني**: تركيز في المناطق المركزية
3. **تأثير الطقس**: انخفاض الاستخدام في الظروف السيئة
4. **التنبؤ**: نمو مستمر بنسبة 15-20% سنوياً
5. **المجموعات**: 3 أنماط رئيسية للمستخدمين

### التوصيات المستقبلية

#### قصيرة المدى (3-6 أشهر)
- **تحسين التوزيع**: زيادة الدراجات في المناطق عالية الاستخدام
- **التسعير الديناميكي**: تعديل الأسعار حسب الطلب والطقس
- **التسويق المستهدف**: حملات مخصصة لكل مجموعة مستخدمين

#### متوسطة المدى (6-12 شهر)
- **توسيع الشبكة**: إضافة محطات في المناطق الجديدة
- **تحسين التطبيق**: ميزات تنبؤية للمستخدمين
- **الشراكات**: تعاون مع وسائل النقل العام

#### طويلة المدى (1+ سنة)
- **الذكاء الاصطناعي**: نماذج تنبؤية متقدمة
- **التحليل في الوقت الفعلي**: مراقبة مستمرة للأنماط
- **التوسع الجغرافي**: الوصول لمدن جديدة

### الأفكار القابلة للتنفيذ

1. **نظام التنبؤ الذكي**
   - تنبؤ بالطلب في كل محطة
   - إعادة توزيع تلقائية للدراجات

2. **برنامج الولاء المتقدم**
   - مكافآت مخصصة لكل مجموعة
   - خصومات ديناميكية

3. **تحليل التنقل المتكامل**
   - دمج بيانات وسائل النقل الأخرى
   - تحليل رحلات الباب إلى الباب

4. **الاستدامة البيئية**
   - تتبع الانبعاثات المحفوظة
   - تقارير التأثير البيئي

---

## 📊 ملخص الإحصائيات الرئيسية

| المقياس | القيمة |
|---------|--------|
| إجمالي الرحلات | 10,000 |
| متوسط مدة الرحلة | 18 دقيقة |
| متوسط التكلفة | 3.50 ريال |
| متوسط المسافة | 2.8 كم |
| نسبة الأعضاء السنويين | 65% |
| نسبة الدراجات الكهربائية | 35% |

---

## 📁 هيكل المشروع

```
final_project/
├── README.md
├── report_arabic.md
├── figures/final_report/
│   ├── 01_top_start_stations.png
│   ├── 02_member_bike_sunburst.png
│   ├── 06_trip_duration_histogram.png
│   ├── 10_trip_cost_distribution.png
│   ├── 11_daily_revenue_trend.png
│   ├── 13_geohash_heatmap.png
│   ├── 17_cbd_usage_analysis.png
│   ├── 19_revenue_by_weather.png
│   ├── forecast_plot.png
│   ├── forecast_components.png
│   ├── kmeans_pca.png
│   ├── dbscan_tsne.png
│   └── agglomerative_dendrogram.png
├── engineered_data/
│   ├── spatial_features_block4.parquet
│   ├── eda_block5_outputs.parquet
│   ├── forecast_block6.csv
│   └── clustered_block7.parquet
└── test_scripts/
    ├── test_block4.py
    ├── test_block5.py
    ├── test_block6.py
    └── test_block7.py
```

---

*تم إنجاز هذا المشروع كجزء من متطلبات تخرج علوم البيانات - 2024* 